<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>è·³æ§½æ”¶ç›Šè®¡ç®—å·¥å…·</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        height: 100vh;
        padding: 8px;
        overflow: hidden;
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
        background: white;
        border-radius: 6px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
        padding: 8px;
        overflow-y: auto;
        display: flex;
        flex-direction: column;
      }

      h1 {
        text-align: center;
        color: #333;
        margin-bottom: 6px;
        font-size: 1.1em;
        flex-shrink: 0;
      }

      .form-section {
        display: grid;
        grid-template-columns: 1fr 1fr 1fr 1fr;
        gap: 6px;
        margin-bottom: 8px;
        flex-shrink: 0;
      }

      .company-form {
        background: #f8f9fa;
        padding: 8px;
        border-radius: 4px;
        border: 1px solid #e9ecef;
      }

      .company-form h2 {
        color: #495057;
        margin-bottom: 6px;
        font-size: 0.9em;
        border-bottom: 1px solid #667eea;
        padding-bottom: 3px;
        text-align: center;
      }

      .form-group {
        margin-bottom: 5px;
      }

      .form-group label {
        display: block;
        margin-bottom: 2px;
        color: #495057;
        font-weight: 500;
        font-size: 0.8em;
      }

      .form-group input {
        width: 100%;
        padding: 4px 6px;
        border: 1px solid #ced4da;
        border-radius: 3px;
        font-size: 12px;
        transition: border-color 0.3s;
      }

      .form-group input:focus {
        outline: none;
        border-color: #667eea;
        box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
      }

      .btn-calculate {
        display: block;
        width: 100%;
        padding: 4px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        border-radius: 4px;
        font-size: 12px;
        font-weight: 600;
        cursor: pointer;
        transition: transform 0.2s, box-shadow 0.2s;
        margin-bottom: 6px;
        flex-shrink: 0;
      }

      .btn-calculate:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 20px rgba(102, 126, 234, 0.3);
      }

      .btn-calculate:active {
        transform: translateY(0);
      }

      .results {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 6px;
        margin-bottom: 0;
        flex: 1;
        min-height: 150px;
      }

      .result-card {
        background: #f8f9fa;
        padding: 6px;
        border-radius: 4px;
        border-left: 2px solid #667eea;
      }

      .result-card h3 {
        color: #495057;
        margin-bottom: 5px;
        font-size: 0.85em;
      }

      .result-item {
        display: flex;
        justify-content: space-between;
        padding: 8px 0;
        border-bottom: 1px solid #e9ecef;
      }

      .result-item:last-child {
        border-bottom: none;
      }

      .result-label {
        color: #6c757d;
      }

      .result-value {
        font-weight: 600;
        color: #212529;
      }

      .result-value.positive {
        color: #28a745;
      }

      .result-value.negative {
        color: #dc3545;
      }

      .result-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 4px;
      }

      .result-table th {
        background: #667eea;
        color: white;
        padding: 4px 2px;
        text-align: center;
        font-weight: 600;
        font-size: 0.75em;
      }

      .result-table td {
        padding: 4px 2px;
        text-align: center;
        border-bottom: 1px solid #e9ecef;
        font-size: 0.75em;
      }

      .result-table tbody tr:hover {
        background: #f8f9fa;
      }

      .result-table td:first-child {
        font-weight: 600;
        color: #495057;
        text-align: left;
      }

      .result-table td:nth-child(2),
      .result-table td:nth-child(4) {
        font-family: 'Courier New', monospace;
        font-weight: 600;
      }

      .result-table td:nth-child(3) {
        color: #667eea;
        font-weight: bold;
        font-size: 0.9em;
        padding: 4px 1px;
      }

      .growth-cell {
        font-weight: 600;
      }

      .growth-cell.positive {
        color: #28a745;
      }

      .growth-cell.negative {
        color: #dc3545;
      }

      .salary-section {
        margin-top: 0;
      }

      .insurance-section {
        margin-top: 0;
      }

      .insurance-config-section {
        margin-bottom: 6px;
        flex-shrink: 0;
      }

      .insurance-config-section h3 {
        margin-bottom: 6px !important;
        font-size: 0.95em !important;
      }

      .insurance-type-group {
        margin-bottom: 6px;
      }

      .insurance-type-group h4 {
        font-size: 0.8em;
        color: #495057;
        margin-bottom: 4px;
        font-weight: 600;
        border-bottom: 1px solid #e9ecef;
        padding-bottom: 2px;
      }

      .insurance-form-row {
        display: grid;
        grid-template-columns: 1fr 1fr 1fr;
        gap: 5px;
      }

      .insurance-conversion-section {
        margin-top: 6px;
        padding-top: 6px;
        border-top: 1px solid #dee2e6;
      }

      .insurance-conversion-section h3 {
        margin: 6px 0 4px 0 !important;
        font-size: 0.9em !important;
      }

      .insurance-conversion-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 6px;
      }

      .insurance-conversion-item {
        background: #f8f9fa;
        padding: 5px;
        border-radius: 3px;
        border: 1px solid #e9ecef;
      }

      .insurance-conversion-item h4 {
        font-size: 0.75em;
        color: #495057;
        margin-bottom: 4px;
        font-weight: 600;
      }

      .insurance-conversion-item .insurance-form-row {
        grid-template-columns: 1fr 1fr;
        gap: 4px;
      }

      #results-section {
        flex: 1;
        min-height: 200px;
        display: flex;
        flex-direction: column;
        overflow-y: auto;
      }

      #results-section.hidden {
        display: none !important;
      }

      .hidden {
        display: none;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>ğŸ’° è·³æ§½æ”¶ç›Šè®¡ç®—å·¥å…·</h1>

      <div class="form-section">
        <div class="company-form">
          <h2>ğŸ¢ æ—§å…¬å¸ - å·¥èµ„</h2>
          <div class="salary-section">
            <div class="form-group">
              <label>æœˆåŸºç¡€å·¥èµ„ï¼ˆå…ƒï¼‰</label>
              <input type="number" id="company1-base-salary" value="23000" />
            </div>
            <div class="form-group">
              <label>æœˆé¢å¤–æ”¶å…¥ï¼ˆå…ƒï¼‰</label>
              <input type="number" id="company1-extra-income" value="1000" />
            </div>
            <div class="form-group">
              <label>å¥–é‡‘ç³»æ•°ï¼ˆç›¸å¯¹äºåŸºç¡€å·¥èµ„ï¼‰</label>
              <input type="number" id="company1-bonus-ratio" value="1" step="0.1" />
            </div>
            <div class="form-group">
              <label>æœˆä¸“é¡¹æ‰£é™¤ï¼ˆå…ƒï¼Œå¦‚ç§Ÿæˆ¿ã€å­å¥³æ•™è‚²ç­‰ï¼‰</label>
              <input type="number" id="company1-deduction" value="2500" />
            </div>
          </div>
        </div>

        <div class="company-form">
          <h2>ğŸ¢ æ—§å…¬å¸ - äº”é™©ä¸€é‡‘</h2>
          <div class="insurance-section">
            <div class="insurance-type-group">
              <h4>å…»è€ä¿é™©</h4>
              <div class="insurance-form-row">
                <div class="form-group">
                  <label>ä¸ªäººæ¯”ä¾‹</label>
                  <input type="number" id="insurance-å…»è€-c1-ä¸ªäººæ¯”ä¾‹" value="0.08" step="0.001" min="0" max="1" />
                </div>
                <div class="form-group">
                  <label>å…¬å¸æ¯”ä¾‹</label>
                  <input type="number" id="insurance-å…»è€-c1-å…¬å¸æ¯”ä¾‹" value="0.16" step="0.001" min="0" max="1" />
                </div>
                <div class="form-group">
                  <label>åŸºç¡€ç³»æ•°</label>
                  <input type="number" id="insurance-å…»è€-c1-åŸºç¡€ç³»æ•°" value="1.0" step="0.1" min="0" />
                </div>
              </div>
            </div>
            <div class="insurance-type-group">
              <h4>åŒ»ç–—ä¿é™©</h4>
              <div class="insurance-form-row">
                <div class="form-group">
                  <label>ä¸ªäººæ¯”ä¾‹</label>
                  <input type="number" id="insurance-åŒ»ç–—-c1-ä¸ªäººæ¯”ä¾‹" value="0.02" step="0.001" min="0" max="1" />
                </div>
                <div class="form-group">
                  <label>å…¬å¸æ¯”ä¾‹</label>
                  <input type="number" id="insurance-åŒ»ç–—-c1-å…¬å¸æ¯”ä¾‹" value="0.05" step="0.001" min="0" max="1" />
                </div>
                <div class="form-group">
                  <label>åŸºç¡€ç³»æ•°</label>
                  <input type="number" id="insurance-åŒ»ç–—-c1-åŸºç¡€ç³»æ•°" value="1.0" step="0.1" min="0" />
                </div>
              </div>
            </div>
            <div class="insurance-type-group">
              <h4>å…¬ç§¯é‡‘</h4>
              <div class="insurance-form-row">
                <div class="form-group">
                  <label>ä¸ªäººæ¯”ä¾‹</label>
                  <input type="number" id="insurance-å…¬ç§¯é‡‘-c1-ä¸ªäººæ¯”ä¾‹" value="0.12" step="0.001" min="0" max="1" />
                </div>
                <div class="form-group">
                  <label>å…¬å¸æ¯”ä¾‹</label>
                  <input type="number" id="insurance-å…¬ç§¯é‡‘-c1-å…¬å¸æ¯”ä¾‹" value="0.12" step="0.001" min="0" max="1" />
                </div>
                <div class="form-group">
                  <label>åŸºç¡€ç³»æ•°</label>
                  <input type="number" id="insurance-å…¬ç§¯é‡‘-c1-åŸºç¡€ç³»æ•°" value="1.0" step="0.1" min="0" />
                </div>
              </div>
            </div>
            <div class="insurance-type-group">
              <h4>å¤±ä¸šä¿é™©</h4>
              <div class="insurance-form-row">
                <div class="form-group">
                  <label>ä¸ªäººæ¯”ä¾‹</label>
                  <input type="number" id="insurance-å¤±ä¸š-c1-ä¸ªäººæ¯”ä¾‹" value="0.002" step="0.0001" min="0" max="1" />
                </div>
                <div class="form-group">
                  <label>å…¬å¸æ¯”ä¾‹</label>
                  <input type="number" id="insurance-å¤±ä¸š-c1-å…¬å¸æ¯”ä¾‹" value="0.008" step="0.0001" min="0" max="1" />
                </div>
                <div class="form-group">
                  <label>åŸºç¡€ç³»æ•°</label>
                  <input type="number" id="insurance-å¤±ä¸š-c1-åŸºç¡€ç³»æ•°" value="1.0" step="0.1" min="0" />
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="company-form">
          <h2>ğŸš€ æ–°å…¬å¸ - å·¥èµ„</h2>
          <div class="salary-section">
            <div class="form-group">
              <label>æœˆåŸºç¡€å·¥èµ„ï¼ˆå…ƒï¼‰</label>
              <input type="number" id="company2-base-salary" value="21000" />
            </div>
            <div class="form-group">
              <label>æœˆé¢å¤–æ”¶å…¥ï¼ˆå…ƒï¼‰</label>
              <input type="number" id="company2-extra-income" value="1000" />
            </div>
            <div class="form-group">
              <label>å¥–é‡‘ç³»æ•°ï¼ˆç›¸å¯¹äºåŸºç¡€å·¥èµ„ï¼‰</label>
              <input type="number" id="company2-bonus-ratio" value="0" step="0.1" />
            </div>
            <div class="form-group">
              <label>æœˆä¸“é¡¹æ‰£é™¤ï¼ˆå…ƒï¼Œå¦‚ç§Ÿæˆ¿ã€å­å¥³æ•™è‚²ç­‰ï¼‰</label>
              <input type="number" id="company2-deduction" value="2500" />
            </div>
          </div>
        </div>

        <div class="company-form">
          <h2>ğŸš€ æ–°å…¬å¸ - äº”é™©ä¸€é‡‘</h2>
          <div class="insurance-section">
            <div class="insurance-type-group">
              <h4>å…»è€ä¿é™©</h4>
              <div class="insurance-form-row">
                <div class="form-group">
                  <label>ä¸ªäººæ¯”ä¾‹</label>
                  <input type="number" id="insurance-å…»è€-c2-ä¸ªäººæ¯”ä¾‹" value="0.08" step="0.001" min="0" max="1" />
                </div>
                <div class="form-group">
                  <label>å…¬å¸æ¯”ä¾‹</label>
                  <input type="number" id="insurance-å…»è€-c2-å…¬å¸æ¯”ä¾‹" value="0.16" step="0.001" min="0" max="1" />
                </div>
                <div class="form-group">
                  <label>åŸºç¡€ç³»æ•°</label>
                  <input type="number" id="insurance-å…»è€-c2-åŸºç¡€ç³»æ•°" value="1.0" step="0.1" min="0" />
                </div>
              </div>
            </div>
            <div class="insurance-type-group">
              <h4>åŒ»ç–—ä¿é™©</h4>
              <div class="insurance-form-row">
                <div class="form-group">
                  <label>ä¸ªäººæ¯”ä¾‹</label>
                  <input type="number" id="insurance-åŒ»ç–—-c2-ä¸ªäººæ¯”ä¾‹" value="0.02" step="0.001" min="0" max="1" />
                </div>
                <div class="form-group">
                  <label>å…¬å¸æ¯”ä¾‹</label>
                  <input type="number" id="insurance-åŒ»ç–—-c2-å…¬å¸æ¯”ä¾‹" value="0.05" step="0.001" min="0" max="1" />
                </div>
                <div class="form-group">
                  <label>åŸºç¡€ç³»æ•°</label>
                  <input type="number" id="insurance-åŒ»ç–—-c2-åŸºç¡€ç³»æ•°" value="1.0" step="0.1" min="0" />
                </div>
              </div>
            </div>
            <div class="insurance-type-group">
              <h4>å…¬ç§¯é‡‘</h4>
              <div class="insurance-form-row">
                <div class="form-group">
                  <label>ä¸ªäººæ¯”ä¾‹</label>
                  <input type="number" id="insurance-å…¬ç§¯é‡‘-c2-ä¸ªäººæ¯”ä¾‹" value="0.12" step="0.001" min="0" max="1" />
                </div>
                <div class="form-group">
                  <label>å…¬å¸æ¯”ä¾‹</label>
                  <input type="number" id="insurance-å…¬ç§¯é‡‘-c2-å…¬å¸æ¯”ä¾‹" value="0.12" step="0.001" min="0" max="1" />
                </div>
                <div class="form-group">
                  <label>åŸºç¡€ç³»æ•°</label>
                  <input type="number" id="insurance-å…¬ç§¯é‡‘-c2-åŸºç¡€ç³»æ•°" value="1.0" step="0.1" min="0" />
                </div>
              </div>
            </div>
            <div class="insurance-type-group">
              <h4>å¤±ä¸šä¿é™©</h4>
              <div class="insurance-form-row">
                <div class="form-group">
                  <label>ä¸ªäººæ¯”ä¾‹</label>
                  <input type="number" id="insurance-å¤±ä¸š-c2-ä¸ªäººæ¯”ä¾‹" value="0.002" step="0.0001" min="0" max="1" />
                </div>
                <div class="form-group">
                  <label>å…¬å¸æ¯”ä¾‹</label>
                  <input type="number" id="insurance-å¤±ä¸š-c2-å…¬å¸æ¯”ä¾‹" value="0.008" step="0.0001" min="0" max="1" />
                </div>
                <div class="form-group">
                  <label>åŸºç¡€ç³»æ•°</label>
                  <input type="number" id="insurance-å¤±ä¸š-c2-åŸºç¡€ç³»æ•°" value="1.0" step="0.1" min="0" />
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="insurance-conversion-section">
          <h3 style="margin: 6px 0 4px 0; font-size: 0.9em; color: #495057;">æŠ˜ç®—æ¯”ä¾‹ï¼ˆå…±ç”¨ï¼‰</h3>
          <div class="insurance-conversion-grid">
            <div class="insurance-conversion-item">
              <h4>å…»è€ä¿é™©</h4>
              <div class="insurance-form-row">
                <div class="form-group">
                  <label>ä¸ªäººæŠ˜ç®—</label>
                  <input type="number" id="insurance-å…»è€-ä¸ªäººæŠ˜ç®—" value="0.5" step="0.1" min="0" max="1" />
                </div>
                <div class="form-group">
                  <label>å…¬å¸æŠ˜ç®—</label>
                  <input type="number" id="insurance-å…»è€-å…¬å¸æŠ˜ç®—" value="0.2" step="0.1" min="0" max="1" />
                </div>
              </div>
            </div>
            <div class="insurance-conversion-item">
              <h4>åŒ»ç–—ä¿é™©</h4>
              <div class="insurance-form-row">
                <div class="form-group">
                  <label>ä¸ªäººæŠ˜ç®—</label>
                  <input type="number" id="insurance-åŒ»ç–—-ä¸ªäººæŠ˜ç®—" value="0.8" step="0.1" min="0" max="1" />
                </div>
                <div class="form-group">
                  <label>å…¬å¸æŠ˜ç®—</label>
                  <input type="number" id="insurance-åŒ»ç–—-å…¬å¸æŠ˜ç®—" value="0.5" step="0.1" min="0" max="1" />
                </div>
              </div>
            </div>
            <div class="insurance-conversion-item">
              <h4>å…¬ç§¯é‡‘</h4>
              <div class="insurance-form-row">
                <div class="form-group">
                  <label>ä¸ªäººæŠ˜ç®—</label>
                  <input type="number" id="insurance-å…¬ç§¯é‡‘-ä¸ªäººæŠ˜ç®—" value="1.0" step="0.1" min="0" max="1" />
                </div>
                <div class="form-group">
                  <label>å…¬å¸æŠ˜ç®—</label>
                  <input type="number" id="insurance-å…¬ç§¯é‡‘-å…¬å¸æŠ˜ç®—" value="1.0" step="0.1" min="0" max="1" />
                </div>
              </div>
            </div>
            <div class="insurance-conversion-item">
              <h4>å¤±ä¸šä¿é™©</h4>
              <div class="insurance-form-row">
                <div class="form-group">
                  <label>ä¸ªäººæŠ˜ç®—</label>
                  <input type="number" id="insurance-å¤±ä¸š-ä¸ªäººæŠ˜ç®—" value="0.0" step="0.1" min="0" max="1" />
                </div>
                <div class="form-group">
                  <label>å…¬å¸æŠ˜ç®—</label>
                  <input type="number" id="insurance-å¤±ä¸š-å…¬å¸æŠ˜ç®—" value="0.0" step="0.1" min="0" max="1" />
                </div>
              </div>
            </div>
          </div>
        </div>
        <button class="btn-calculate" onclick="calculate()">ğŸ“Š å¼€å§‹è®¡ç®—</button>

      <div id="results-section" class="hidden">
        <div class="results">
          <div class="result-card">
            <h3>ä¸ªäººåä¹‰æ”¶ç›Šï¼ˆä¸è€ƒè™‘æŠ˜ç®—ï¼Œè€ƒè™‘çº³ç¨ï¼‰</h3>
            <table class="result-table">
              <thead>
                <tr>
                  <th></th>
                  <th>æ—§å…¬å¸</th>
                  <th></th>
                  <th>æ–°å…¬å¸</th>
                  <th>æ¶¨å¹…</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>æŒ‰æœˆ</td>
                  <td id="nominal-monthly-c1">-</td>
                  <td>â†’</td>
                  <td id="nominal-monthly-c2">-</td>
                  <td id="nominal-growth-monthly" class="growth-cell">-</td>
                </tr>
                <tr>
                  <td>æŒ‰å¹´</td>
                  <td id="nominal-yearly-c1">-</td>
                  <td>â†’</td>
                  <td id="nominal-yearly-c2">-</td>
                  <td id="nominal-growth-yearly" class="growth-cell">-</td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="result-card">
            <h3>ä¸ªäººå®é™…æ”¶ç›Šï¼ˆè€ƒè™‘æŠ˜ç®—å’Œçº³ç¨ï¼‰</h3>
            <table class="result-table">
              <thead>
                <tr>
                  <th></th>
                  <th>æ—§å…¬å¸</th>
                  <th></th>
                  <th>æ–°å…¬å¸</th>
                  <th>æ¶¨å¹…</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>æŒ‰æœˆ</td>
                  <td id="actual-monthly-c1">-</td>
                  <td>â†’</td>
                  <td id="actual-monthly-c2">-</td>
                  <td id="actual-growth-monthly" class="growth-cell">-</td>
                </tr>
                <tr>
                  <td>æŒ‰å¹´</td>
                  <td id="actual-yearly-c1">-</td>
                  <td>â†’</td>
                  <td id="actual-yearly-c2">-</td>
                  <td id="actual-growth-yearly" class="growth-cell">-</td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="result-card">
            <h3>å…¬å¸å®é™…æˆæœ¬</h3>
            <table class="result-table">
              <thead>
                <tr>
                  <th></th>
                  <th>æ—§å…¬å¸</th>
                  <th></th>
                  <th>æ–°å…¬å¸</th>
                  <th>æ¶¨å¹…</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>æŒ‰æœˆ</td>
                  <td id="company-cost-monthly-c1">-</td>
                  <td>â†’</td>
                  <td id="company-cost-monthly-c2">-</td>
                  <td id="company-cost-growth-monthly" class="growth-cell">-</td>
                </tr>
                <tr>
                  <td>æŒ‰å¹´</td>
                  <td id="company-cost-yearly-c1">-</td>
                  <td>â†’</td>
                  <td id="company-cost-yearly-c2">-</td>
                  <td id="company-cost-growth-yearly" class="growth-cell">-</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
      </div>

      
    </div>

  <script>
    const é»˜è®¤äº”é™©ä¸€é‡‘æ¯”ä¾‹é…ç½® = {
      å…»è€ä¿é™©: {
        ç¼´çº³æ¯”ä¾‹: [0.08, 0.16],
          æŠ˜ç®—æ¯”ä¾‹: [0.5, 0.2],
        åŸºç¡€ç³»æ•°: 1.0,
      },
      åŒ»ç–—ä¿é™©: {
        ç¼´çº³æ¯”ä¾‹: [0.02, 0.05],
          æŠ˜ç®—æ¯”ä¾‹: [0.8, 0.5],
        åŸºç¡€ç³»æ•°: 1.0,
      },
      å…¬ç§¯é‡‘: {
        ç¼´çº³æ¯”ä¾‹: [0.12, 0.12],
          æŠ˜ç®—æ¯”ä¾‹: [1.0, 1.0],
        åŸºç¡€ç³»æ•°: 1.0,
      },
      å¤±ä¸šä¿é™©: {
        ç¼´çº³æ¯”ä¾‹: [0.002, 0.008],
          æŠ˜ç®—æ¯”ä¾‹: [0.0, 0.0],
        åŸºç¡€ç³»æ•°: 1.0,
      },
    };

    /**
       * çº³ç¨è®¡ç®—
       */
      function çº³ç¨(å¹´åº¦çš„åº”çº³ç¨æ‰€å¾—é¢) {
        if (å¹´åº¦çš„åº”çº³ç¨æ‰€å¾—é¢ <= 0) return 0;
        
        let é˜¶æ¢¯çº³ç¨æ€»å’Œ = 0;
        if (å¹´åº¦çš„åº”çº³ç¨æ‰€å¾—é¢ < 36000) {
          é˜¶æ¢¯çº³ç¨æ€»å’Œ = å¹´åº¦çš„åº”çº³ç¨æ‰€å¾—é¢ * 0.03;
        } else if (å¹´åº¦çš„åº”çº³ç¨æ‰€å¾—é¢ < 144000) {
          é˜¶æ¢¯çº³ç¨æ€»å’Œ = 36000 * 0.03 + (å¹´åº¦çš„åº”çº³ç¨æ‰€å¾—é¢ - 36000) * 0.1;
        } else if (å¹´åº¦çš„åº”çº³ç¨æ‰€å¾—é¢ < 300000) {
          é˜¶æ¢¯çº³ç¨æ€»å’Œ = 36000 * 0.03 + (144000 - 36000) * 0.1 + (å¹´åº¦çš„åº”çº³ç¨æ‰€å¾—é¢ - 144000) * 0.2;
        } else if (å¹´åº¦çš„åº”çº³ç¨æ‰€å¾—é¢ < 420000) {
          é˜¶æ¢¯çº³ç¨æ€»å’Œ = 36000 * 0.03 + (144000 - 36000) * 0.1 + (300000 - 144000) * 0.2 + (å¹´åº¦çš„åº”çº³ç¨æ‰€å¾—é¢ - 300000) * 0.25;
        } else if (å¹´åº¦çš„åº”çº³ç¨æ‰€å¾—é¢ < 660000) {
          é˜¶æ¢¯çº³ç¨æ€»å’Œ = 36000 * 0.03 + (144000 - 36000) * 0.1 + (300000 - 144000) * 0.2 + (420000 - 300000) * 0.25 + (å¹´åº¦çš„åº”çº³ç¨æ‰€å¾—é¢ - 420000) * 0.3;
        } else if (å¹´åº¦çš„åº”çº³ç¨æ‰€å¾—é¢ < 960000) {
          é˜¶æ¢¯çº³ç¨æ€»å’Œ = 36000 * 0.03 + (144000 - 36000) * 0.1 + (300000 - 144000) * 0.2 + (420000 - 300000) * 0.25 + (660000 - 420000) * 0.3 + (å¹´åº¦çš„åº”çº³ç¨æ‰€å¾—é¢ - 660000) * 0.35;
        } else {
          é˜¶æ¢¯çº³ç¨æ€»å’Œ = 36000 * 0.03 + (144000 - 36000) * 0.1 + (300000 - 144000) * 0.2 + (420000 - 300000) * 0.25 + (660000 - 420000) * 0.3 + (960000 - 660000) * 0.35 + (å¹´åº¦çš„åº”çº³ç¨æ‰€å¾—é¢ - 960000) * 0.45;
        }
        return é˜¶æ¢¯çº³ç¨æ€»å’Œ;
      }

      /**
       * è®¡ç®—ä¸ªäººåä¹‰æ”¶ç›Šï¼ˆä¸è€ƒè™‘æŠ˜ç®—ï¼Œä½†è€ƒè™‘çº³ç¨ï¼‰
       */
      function è®¡ç®—ä¸ªäººåä¹‰æ”¶ç›Š(æŒ‰æœˆåŸºç¡€å·¥èµ„, æŒ‰æœˆé¢å¤–æ”¶å…¥, ç›¸å¯¹ä¸baseçš„å¥–é‡‘ç³»æ•°, å…ç¨é¢åº¦, äº”é™©ä¸€é‡‘æ¯”ä¾‹é…ç½®) {
        // è®¡ç®—ä¸ªäººç¼´çº³çš„äº”é™©ä¸€é‡‘
      let ä¸ªäººç¼´çº³äº”é™©ä¸€é‡‘æ€»é¢ = 0;
      Object.keys(äº”é™©ä¸€é‡‘æ¯”ä¾‹é…ç½®).forEach((äº”é™©ä¸€é‡‘é¡¹ç›®åç§°) => {
        const [ä¸ªäººç¼´çº³æ¯”ä¾‹] = äº”é™©ä¸€é‡‘æ¯”ä¾‹é…ç½®[äº”é™©ä¸€é‡‘é¡¹ç›®åç§°].ç¼´çº³æ¯”ä¾‹;
        const åŸºæ•°ç³»æ•° = äº”é™©ä¸€é‡‘æ¯”ä¾‹é…ç½®[äº”é™©ä¸€é‡‘é¡¹ç›®åç§°].åŸºç¡€ç³»æ•°;
        ä¸ªäººç¼´çº³äº”é™©ä¸€é‡‘æ€»é¢ += æŒ‰æœˆåŸºç¡€å·¥èµ„ * åŸºæ•°ç³»æ•° * ä¸ªäººç¼´çº³æ¯”ä¾‹;
      });

        // è®¡ç®—å¹´åº¦åº”çº³ç¨æ‰€å¾—é¢
        const å¹´åº¦çš„åº”çº³ç¨æ‰€å¾—é¢ = (æŒ‰æœˆåŸºç¡€å·¥èµ„ + æŒ‰æœˆé¢å¤–æ”¶å…¥ - ä¸ªäººç¼´çº³äº”é™©ä¸€é‡‘æ€»é¢) * 12 - å…ç¨é¢åº¦;
        
        // è®¡ç®—å¥–é‡‘
      const å¥–é‡‘ = ç›¸å¯¹ä¸baseçš„å¥–é‡‘ç³»æ•° * æŒ‰æœˆåŸºç¡€å·¥èµ„;
        
        // è®¡ç®—å¹´åº¦åº”çº³ç¨æ¬¾
      const å¹´åº¦åº”çº³ç¨æ¬¾ = çº³ç¨(å¹´åº¦çš„åº”çº³ç¨æ‰€å¾—é¢ + å¥–é‡‘);
        
        // ç¨åæ”¶å…¥
      const ç¨åæ”¶å…¥ = å¹´åº¦çš„åº”çº³ç¨æ‰€å¾—é¢ + å¥–é‡‘ - å¹´åº¦åº”çº³ç¨æ¬¾;
        
        return {
          æœˆåº¦: ç¨åæ”¶å…¥ / 12,
          å¹´åº¦: ç¨åæ”¶å…¥,
          æœˆåº¦ç¨å‰: (æŒ‰æœˆåŸºç¡€å·¥èµ„ + æŒ‰æœˆé¢å¤–æ”¶å…¥) * 12 / 12,
          å¹´åº¦ç¨å‰: (æŒ‰æœˆåŸºç¡€å·¥èµ„ + æŒ‰æœˆé¢å¤–æ”¶å…¥) * 12 + å¥–é‡‘
        };
      }

      /**
       * è®¡ç®—ä¸ªäººå®é™…æ”¶ç›Šï¼ˆè€ƒè™‘æŠ˜ç®—ï¼Œè€ƒè™‘çº³ç¨ï¼‰
       */
      function è®¡ç®—ä¸ªäººå®é™…æ”¶ç›Š(æŒ‰æœˆåŸºç¡€å·¥èµ„, æŒ‰æœˆé¢å¤–æ”¶å…¥, ç›¸å¯¹ä¸baseçš„å¥–é‡‘ç³»æ•°, å…ç¨é¢åº¦, äº”é™©ä¸€é‡‘æ¯”ä¾‹é…ç½®) {
        // å…ˆè®¡ç®—åä¹‰æ”¶ç›Š
        const åä¹‰æ”¶ç›Š = è®¡ç®—ä¸ªäººåä¹‰æ”¶ç›Š(æŒ‰æœˆåŸºç¡€å·¥èµ„, æŒ‰æœˆé¢å¤–æ”¶å…¥, ç›¸å¯¹ä¸baseçš„å¥–é‡‘ç³»æ•°, å…ç¨é¢åº¦, äº”é™©ä¸€é‡‘æ¯”ä¾‹é…ç½®);
        
        // è®¡ç®—äº”é™©ä¸€é‡‘æŠ˜ç®—æ”¶ç›Š
      let æŒ‰æœˆäº”é™©ä¸€é‡‘æŠ˜ç®—æ”¶ç›Š = 0;
      Object.keys(äº”é™©ä¸€é‡‘æ¯”ä¾‹é…ç½®).forEach((äº”é™©ä¸€é‡‘é¡¹ç›®åç§°) => {
          const [ä¸ªäººç¼´çº³æ¯”ä¾‹, å…¬å¸ç¼´çº³æ¯”ä¾‹] = äº”é™©ä¸€é‡‘æ¯”ä¾‹é…ç½®[äº”é™©ä¸€é‡‘é¡¹ç›®åç§°].ç¼´çº³æ¯”ä¾‹;
          const ç¼´çº³åŸºæ•° = æŒ‰æœˆåŸºç¡€å·¥èµ„ * äº”é™©ä¸€é‡‘æ¯”ä¾‹é…ç½®[äº”é™©ä¸€é‡‘é¡¹ç›®åç§°].åŸºç¡€ç³»æ•°;
          const [ä¸ªäººç¼´çº³æŠ˜ç®—æ¯”ä¾‹, å…¬å¸ç¼´çº³æŠ˜ç®—æ¯”ä¾‹] = äº”é™©ä¸€é‡‘æ¯”ä¾‹é…ç½®[äº”é™©ä¸€é‡‘é¡¹ç›®åç§°].æŠ˜ç®—æ¯”ä¾‹;
        æŒ‰æœˆäº”é™©ä¸€é‡‘æŠ˜ç®—æ”¶ç›Š +=
          ç¼´çº³åŸºæ•° * ä¸ªäººç¼´çº³æ¯”ä¾‹ * ä¸ªäººç¼´çº³æŠ˜ç®—æ¯”ä¾‹ +
          ç¼´çº³åŸºæ•° * å…¬å¸ç¼´çº³æ¯”ä¾‹ * å…¬å¸ç¼´çº³æŠ˜ç®—æ¯”ä¾‹;
      });
        
      const äº”é™©ä¸€é‡‘æŠ˜ç®—æ”¶ç›Š = æŒ‰æœˆäº”é™©ä¸€é‡‘æŠ˜ç®—æ”¶ç›Š * 12;
        
        return {
          æœˆåº¦: åä¹‰æ”¶ç›Š.æœˆåº¦ + æŒ‰æœˆäº”é™©ä¸€é‡‘æŠ˜ç®—æ”¶ç›Š,
          å¹´åº¦: åä¹‰æ”¶ç›Š.å¹´åº¦ + äº”é™©ä¸€é‡‘æŠ˜ç®—æ”¶ç›Š
        };
      }

      /**
       * è®¡ç®—å…¬å¸å®é™…æˆæœ¬
       */
      function è®¡ç®—å…¬å¸å®é™…æˆæœ¬(æŒ‰æœˆåŸºç¡€å·¥èµ„, æŒ‰æœˆé¢å¤–æ”¶å…¥, ç›¸å¯¹ä¸baseçš„å¥–é‡‘ç³»æ•°, äº”é™©ä¸€é‡‘æ¯”ä¾‹é…ç½®) {
        // åŸºç¡€å·¥èµ„æˆæœ¬
        const åŸºç¡€å·¥èµ„æˆæœ¬ = æŒ‰æœˆåŸºç¡€å·¥èµ„ * 12;
        
        // é¢å¤–æ”¶å…¥æˆæœ¬
        const é¢å¤–æ”¶å…¥æˆæœ¬ = æŒ‰æœˆé¢å¤–æ”¶å…¥ * 12;
        
        // å¥–é‡‘æˆæœ¬
        const å¥–é‡‘æˆæœ¬ = ç›¸å¯¹ä¸baseçš„å¥–é‡‘ç³»æ•° * æŒ‰æœˆåŸºç¡€å·¥èµ„;
        
        // å…¬å¸ç¼´çº³çš„äº”é™©ä¸€é‡‘
        let å…¬å¸ç¼´çº³äº”é™©ä¸€é‡‘æ€»é¢ = 0;
        Object.keys(äº”é™©ä¸€é‡‘æ¯”ä¾‹é…ç½®).forEach((äº”é™©ä¸€é‡‘é¡¹ç›®åç§°) => {
          const [, å…¬å¸ç¼´çº³æ¯”ä¾‹] = äº”é™©ä¸€é‡‘æ¯”ä¾‹é…ç½®[äº”é™©ä¸€é‡‘é¡¹ç›®åç§°].ç¼´çº³æ¯”ä¾‹;
          const åŸºæ•°ç³»æ•° = äº”é™©ä¸€é‡‘æ¯”ä¾‹é…ç½®[äº”é™©ä¸€é‡‘é¡¹ç›®åç§°].åŸºç¡€ç³»æ•°;
          å…¬å¸ç¼´çº³äº”é™©ä¸€é‡‘æ€»é¢ += æŒ‰æœˆåŸºç¡€å·¥èµ„ * åŸºæ•°ç³»æ•° * å…¬å¸ç¼´çº³æ¯”ä¾‹;
        });
        const å¹´åº¦å…¬å¸ç¼´çº³äº”é™©ä¸€é‡‘ = å…¬å¸ç¼´çº³äº”é™©ä¸€é‡‘æ€»é¢ * 12;
        
        const æ€»æˆæœ¬ = åŸºç¡€å·¥èµ„æˆæœ¬ + é¢å¤–æ”¶å…¥æˆæœ¬ + å¥–é‡‘æˆæœ¬ + å¹´åº¦å…¬å¸ç¼´çº³äº”é™©ä¸€é‡‘;
        
        return {
          æœˆåº¦: æ€»æˆæœ¬ / 12,
          å¹´åº¦: æ€»æˆæœ¬
        };
      }

      function calculate() {
        // è·å–è¾“å…¥å€¼
        const company1Data = {
          æŒ‰æœˆåŸºç¡€å·¥èµ„: parseFloat(document.getElementById('company1-base-salary').value) || 0,
          æŒ‰æœˆé¢å¤–æ”¶å…¥: parseFloat(document.getElementById('company1-extra-income').value) || 0,
          ç›¸å¯¹ä¸baseçš„å¥–é‡‘ç³»æ•°: parseFloat(document.getElementById('company1-bonus-ratio').value) || 0,
          å…ç¨é¢åº¦: parseFloat(document.getElementById('company1-deduction').value) || 0 * 12,
        };

        const company2Data = {
          æŒ‰æœˆåŸºç¡€å·¥èµ„: parseFloat(document.getElementById('company2-base-salary').value) || 0,
          æŒ‰æœˆé¢å¤–æ”¶å…¥: parseFloat(document.getElementById('company2-extra-income').value) || 0,
          ç›¸å¯¹ä¸baseçš„å¥–é‡‘ç³»æ•°: parseFloat(document.getElementById('company2-bonus-ratio').value) || 0,
          å…ç¨é¢åº¦: parseFloat(document.getElementById('company2-deduction').value) || 0 * 12,
        };

        // è®¾ç½®äº”é™©ä¸€é‡‘é…ç½®ï¼ˆä»è¾“å…¥æ¡†è¯»å–ï¼‰
        const ç”¨æˆ·äº”é™©ä¸€é‡‘é…ç½® = è¯»å–äº”é™©ä¸€é‡‘é…ç½®();
        
        // ä¸ºæ¯ä¸ªå…¬å¸è®¾ç½®ç¼´çº³åŸºæ•°ï¼ˆä½¿ç”¨åŸºç¡€å·¥èµ„ï¼‰
        const äº”é™©ä¸€é‡‘é…ç½®1 = JSON.parse(JSON.stringify(ç”¨æˆ·äº”é™©ä¸€é‡‘é…ç½®.å…¬å¸1));
        Object.keys(äº”é™©ä¸€é‡‘é…ç½®1).forEach(key => {
          äº”é™©ä¸€é‡‘é…ç½®1[key].ç¼´çº³åŸºæ•° = company1Data.æŒ‰æœˆåŸºç¡€å·¥èµ„ * äº”é™©ä¸€é‡‘é…ç½®1[key].åŸºç¡€ç³»æ•°;
        });

        const äº”é™©ä¸€é‡‘é…ç½®2 = JSON.parse(JSON.stringify(ç”¨æˆ·äº”é™©ä¸€é‡‘é…ç½®.å…¬å¸2));
        Object.keys(äº”é™©ä¸€é‡‘é…ç½®2).forEach(key => {
          äº”é™©ä¸€é‡‘é…ç½®2[key].ç¼´çº³åŸºæ•° = company2Data.æŒ‰æœˆåŸºç¡€å·¥èµ„ * äº”é™©ä¸€é‡‘é…ç½®2[key].åŸºç¡€ç³»æ•°;
        });

        // è®¡ç®—å…¬å¸1çš„å„é¡¹æ”¶ç›Š
        const company1åä¹‰æ”¶ç›Š = è®¡ç®—ä¸ªäººåä¹‰æ”¶ç›Š(
          company1Data.æŒ‰æœˆåŸºç¡€å·¥èµ„,
          company1Data.æŒ‰æœˆé¢å¤–æ”¶å…¥,
          company1Data.ç›¸å¯¹ä¸baseçš„å¥–é‡‘ç³»æ•°,
          company1Data.å…ç¨é¢åº¦,
          äº”é™©ä¸€é‡‘é…ç½®1
        );

        const company1å®é™…æ”¶ç›Š = è®¡ç®—ä¸ªäººå®é™…æ”¶ç›Š(
          company1Data.æŒ‰æœˆåŸºç¡€å·¥èµ„,
          company1Data.æŒ‰æœˆé¢å¤–æ”¶å…¥,
          company1Data.ç›¸å¯¹ä¸baseçš„å¥–é‡‘ç³»æ•°,
          company1Data.å…ç¨é¢åº¦,
          äº”é™©ä¸€é‡‘é…ç½®1
        );

        const company1å…¬å¸æˆæœ¬ = è®¡ç®—å…¬å¸å®é™…æˆæœ¬(
          company1Data.æŒ‰æœˆåŸºç¡€å·¥èµ„,
          company1Data.æŒ‰æœˆé¢å¤–æ”¶å…¥,
          company1Data.ç›¸å¯¹ä¸baseçš„å¥–é‡‘ç³»æ•°,
          äº”é™©ä¸€é‡‘é…ç½®1
        );

        // è®¡ç®—å…¬å¸2çš„å„é¡¹æ”¶ç›Š
        const company2åä¹‰æ”¶ç›Š = è®¡ç®—ä¸ªäººåä¹‰æ”¶ç›Š(
          company2Data.æŒ‰æœˆåŸºç¡€å·¥èµ„,
          company2Data.æŒ‰æœˆé¢å¤–æ”¶å…¥,
          company2Data.ç›¸å¯¹ä¸baseçš„å¥–é‡‘ç³»æ•°,
          company2Data.å…ç¨é¢åº¦,
          äº”é™©ä¸€é‡‘é…ç½®2
        );

        const company2å®é™…æ”¶ç›Š = è®¡ç®—ä¸ªäººå®é™…æ”¶ç›Š(
          company2Data.æŒ‰æœˆåŸºç¡€å·¥èµ„,
          company2Data.æŒ‰æœˆé¢å¤–æ”¶å…¥,
          company2Data.ç›¸å¯¹ä¸baseçš„å¥–é‡‘ç³»æ•°,
          company2Data.å…ç¨é¢åº¦,
          äº”é™©ä¸€é‡‘é…ç½®2
        );

        const company2å…¬å¸æˆæœ¬ = è®¡ç®—å…¬å¸å®é™…æˆæœ¬(
          company2Data.æŒ‰æœˆåŸºç¡€å·¥èµ„,
          company2Data.æŒ‰æœˆé¢å¤–æ”¶å…¥,
          company2Data.ç›¸å¯¹ä¸baseçš„å¥–é‡‘ç³»æ•°,
          äº”é™©ä¸€é‡‘é…ç½®2
        );

        // è®¡ç®—å¢é•¿å¹…åº¦
        const åä¹‰æ”¶ç›Šå¢é•¿æœˆåº¦ = ((company2åä¹‰æ”¶ç›Š.æœˆåº¦ - company1åä¹‰æ”¶ç›Š.æœˆåº¦) / company1åä¹‰æ”¶ç›Š.æœˆåº¦) * 100;
        const åä¹‰æ”¶ç›Šå¢é•¿å¹´åº¦ = ((company2åä¹‰æ”¶ç›Š.å¹´åº¦ - company1åä¹‰æ”¶ç›Š.å¹´åº¦) / company1åä¹‰æ”¶ç›Š.å¹´åº¦) * 100;
        const å®é™…æ”¶ç›Šå¢é•¿æœˆåº¦ = ((company2å®é™…æ”¶ç›Š.æœˆåº¦ - company1å®é™…æ”¶ç›Š.æœˆåº¦) / company1å®é™…æ”¶ç›Š.æœˆåº¦) * 100;
        const å®é™…æ”¶ç›Šå¢é•¿å¹´åº¦ = ((company2å®é™…æ”¶ç›Š.å¹´åº¦ - company1å®é™…æ”¶ç›Š.å¹´åº¦) / company1å®é™…æ”¶ç›Š.å¹´åº¦) * 100;
        const å…¬å¸æˆæœ¬å¢é•¿æœˆåº¦ = ((company2å…¬å¸æˆæœ¬.æœˆåº¦ - company1å…¬å¸æˆæœ¬.æœˆåº¦) / company1å…¬å¸æˆæœ¬.æœˆåº¦) * 100;
        const å…¬å¸æˆæœ¬å¢é•¿å¹´åº¦ = ((company2å…¬å¸æˆæœ¬.å¹´åº¦ - company1å…¬å¸æˆæœ¬.å¹´åº¦) / company1å…¬å¸æˆæœ¬.å¹´åº¦) * 100;

        // æ˜¾ç¤ºç»“æœ - ä¸ªäººåä¹‰æ”¶ç›Š
        document.getElementById('nominal-monthly-c1').textContent = `Â¥${company1åä¹‰æ”¶ç›Š.æœˆåº¦.toFixed(2)}`;
        document.getElementById('nominal-monthly-c2').textContent = `Â¥${company2åä¹‰æ”¶ç›Š.æœˆåº¦.toFixed(2)}`;
        document.getElementById('nominal-yearly-c1').textContent = `Â¥${company1åä¹‰æ”¶ç›Š.å¹´åº¦.toFixed(2)}`;
        document.getElementById('nominal-yearly-c2').textContent = `Â¥${company2åä¹‰æ”¶ç›Š.å¹´åº¦.toFixed(2)}`;
        
        const nominalGrowthMonthlyEl = document.getElementById('nominal-growth-monthly');
        nominalGrowthMonthlyEl.textContent = `${åä¹‰æ”¶ç›Šå¢é•¿æœˆåº¦.toFixed(2)}%`;
        nominalGrowthMonthlyEl.className = `growth-cell ${åä¹‰æ”¶ç›Šå¢é•¿æœˆåº¦ >= 0 ? 'positive' : 'negative'}`;
        
        const nominalGrowthYearlyEl = document.getElementById('nominal-growth-yearly');
        nominalGrowthYearlyEl.textContent = `${åä¹‰æ”¶ç›Šå¢é•¿å¹´åº¦.toFixed(2)}%`;
        nominalGrowthYearlyEl.className = `growth-cell ${åä¹‰æ”¶ç›Šå¢é•¿å¹´åº¦ >= 0 ? 'positive' : 'negative'}`;

        // æ˜¾ç¤ºç»“æœ - ä¸ªäººå®é™…æ”¶ç›Š
        document.getElementById('actual-monthly-c1').textContent = `Â¥${company1å®é™…æ”¶ç›Š.æœˆåº¦.toFixed(2)}`;
        document.getElementById('actual-monthly-c2').textContent = `Â¥${company2å®é™…æ”¶ç›Š.æœˆåº¦.toFixed(2)}`;
        document.getElementById('actual-yearly-c1').textContent = `Â¥${company1å®é™…æ”¶ç›Š.å¹´åº¦.toFixed(2)}`;
        document.getElementById('actual-yearly-c2').textContent = `Â¥${company2å®é™…æ”¶ç›Š.å¹´åº¦.toFixed(2)}`;
        
        const actualGrowthMonthlyEl = document.getElementById('actual-growth-monthly');
        actualGrowthMonthlyEl.textContent = `${å®é™…æ”¶ç›Šå¢é•¿æœˆåº¦.toFixed(2)}%`;
        actualGrowthMonthlyEl.className = `growth-cell ${å®é™…æ”¶ç›Šå¢é•¿æœˆåº¦ >= 0 ? 'positive' : 'negative'}`;
        
        const actualGrowthYearlyEl = document.getElementById('actual-growth-yearly');
        actualGrowthYearlyEl.textContent = `${å®é™…æ”¶ç›Šå¢é•¿å¹´åº¦.toFixed(2)}%`;
        actualGrowthYearlyEl.className = `growth-cell ${å®é™…æ”¶ç›Šå¢é•¿å¹´åº¦ >= 0 ? 'positive' : 'negative'}`;

        // æ˜¾ç¤ºç»“æœ - å…¬å¸å®é™…æˆæœ¬
        document.getElementById('company-cost-monthly-c1').textContent = `Â¥${company1å…¬å¸æˆæœ¬.æœˆåº¦.toFixed(2)}`;
        document.getElementById('company-cost-monthly-c2').textContent = `Â¥${company2å…¬å¸æˆæœ¬.æœˆåº¦.toFixed(2)}`;
        document.getElementById('company-cost-yearly-c1').textContent = `Â¥${company1å…¬å¸æˆæœ¬.å¹´åº¦.toFixed(2)}`;
        document.getElementById('company-cost-yearly-c2').textContent = `Â¥${company2å…¬å¸æˆæœ¬.å¹´åº¦.toFixed(2)}`;
        
        const companyCostGrowthMonthlyEl = document.getElementById('company-cost-growth-monthly');
        companyCostGrowthMonthlyEl.textContent = `${å…¬å¸æˆæœ¬å¢é•¿æœˆåº¦.toFixed(2)}%`;
        companyCostGrowthMonthlyEl.className = `growth-cell ${å…¬å¸æˆæœ¬å¢é•¿æœˆåº¦ >= 0 ? 'positive' : 'negative'}`;
        
        const companyCostGrowthYearlyEl = document.getElementById('company-cost-growth-yearly');
        companyCostGrowthYearlyEl.textContent = `${å…¬å¸æˆæœ¬å¢é•¿å¹´åº¦.toFixed(2)}%`;
        companyCostGrowthYearlyEl.className = `growth-cell ${å…¬å¸æˆæœ¬å¢é•¿å¹´åº¦ >= 0 ? 'positive' : 'negative'}`;

        // æ˜¾ç¤ºç»“æœåŒºåŸŸ
        const resultsSection = document.getElementById('results-section');
        if (resultsSection) {
          resultsSection.classList.remove('hidden');
          resultsSection.style.display = 'flex';
          // ç¡®ä¿ç»“æœåŒºåŸŸå¯è§ - æ»šåŠ¨åˆ°ç»“æœåŒºåŸŸ
          setTimeout(() => {
            try {
              resultsSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
            } catch (e) {
              // å¦‚æœscrollIntoViewå¤±è´¥ï¼Œç›´æ¥æ»šåŠ¨å®¹å™¨
              const container = document.querySelector('.container');
              if (container) {
                container.scrollTop = container.scrollHeight;
              }
            }
          }, 200);
        } else {
          console.error('results-section element not found!');
        }
      }


      // ä»è¾“å…¥æ¡†è¯»å–äº”é™©ä¸€é‡‘é…ç½®ï¼ˆè¿”å›ä¸¤ä¸ªå…¬å¸çš„é…ç½®ï¼‰
      function è¯»å–äº”é™©ä¸€é‡‘é…ç½®() {
        // è¯»å–å…±ç”¨çš„æŠ˜ç®—æ¯”ä¾‹
        const æŠ˜ç®—æ¯”ä¾‹ = {
          å…»è€ä¿é™©: [
            parseFloat(document.getElementById('insurance-å…»è€-ä¸ªäººæŠ˜ç®—').value) || 0.5,
            parseFloat(document.getElementById('insurance-å…»è€-å…¬å¸æŠ˜ç®—').value) || 0.2
          ],
          åŒ»ç–—ä¿é™©: [
            parseFloat(document.getElementById('insurance-åŒ»ç–—-ä¸ªäººæŠ˜ç®—').value) || 0.8,
            parseFloat(document.getElementById('insurance-åŒ»ç–—-å…¬å¸æŠ˜ç®—').value) || 0.5
          ],
          å…¬ç§¯é‡‘: [
            parseFloat(document.getElementById('insurance-å…¬ç§¯é‡‘-ä¸ªäººæŠ˜ç®—').value) || 1.0,
            parseFloat(document.getElementById('insurance-å…¬ç§¯é‡‘-å…¬å¸æŠ˜ç®—').value) || 1.0
          ],
          å¤±ä¸šä¿é™©: [
            parseFloat(document.getElementById('insurance-å¤±ä¸š-ä¸ªäººæŠ˜ç®—').value) || 0.0,
            parseFloat(document.getElementById('insurance-å¤±ä¸š-å…¬å¸æŠ˜ç®—').value) || 0.0
          ],
        };

        // è¿”å›ä¸¤ä¸ªå…¬å¸çš„é…ç½®
        return {
          å…¬å¸1: {
            å…»è€ä¿é™©: {
              ç¼´çº³æ¯”ä¾‹: [
                parseFloat(document.getElementById('insurance-å…»è€-c1-ä¸ªäººæ¯”ä¾‹').value) || 0.08,
                parseFloat(document.getElementById('insurance-å…»è€-c1-å…¬å¸æ¯”ä¾‹').value) || 0.16
              ],
              æŠ˜ç®—æ¯”ä¾‹: æŠ˜ç®—æ¯”ä¾‹.å…»è€ä¿é™©,
              åŸºç¡€ç³»æ•°: parseFloat(document.getElementById('insurance-å…»è€-c1-åŸºç¡€ç³»æ•°').value) || 1.0,
            },
            åŒ»ç–—ä¿é™©: {
              ç¼´çº³æ¯”ä¾‹: [
                parseFloat(document.getElementById('insurance-åŒ»ç–—-c1-ä¸ªäººæ¯”ä¾‹').value) || 0.02,
                parseFloat(document.getElementById('insurance-åŒ»ç–—-c1-å…¬å¸æ¯”ä¾‹').value) || 0.05
              ],
              æŠ˜ç®—æ¯”ä¾‹: æŠ˜ç®—æ¯”ä¾‹.åŒ»ç–—ä¿é™©,
              åŸºç¡€ç³»æ•°: parseFloat(document.getElementById('insurance-åŒ»ç–—-c1-åŸºç¡€ç³»æ•°').value) || 1.0,
            },
            å…¬ç§¯é‡‘: {
              ç¼´çº³æ¯”ä¾‹: [
                parseFloat(document.getElementById('insurance-å…¬ç§¯é‡‘-c1-ä¸ªäººæ¯”ä¾‹').value) || 0.12,
                parseFloat(document.getElementById('insurance-å…¬ç§¯é‡‘-c1-å…¬å¸æ¯”ä¾‹').value) || 0.12
              ],
              æŠ˜ç®—æ¯”ä¾‹: æŠ˜ç®—æ¯”ä¾‹.å…¬ç§¯é‡‘,
              åŸºç¡€ç³»æ•°: parseFloat(document.getElementById('insurance-å…¬ç§¯é‡‘-c1-åŸºç¡€ç³»æ•°').value) || 1.0,
            },
            å¤±ä¸šä¿é™©: {
              ç¼´çº³æ¯”ä¾‹: [
                parseFloat(document.getElementById('insurance-å¤±ä¸š-c1-ä¸ªäººæ¯”ä¾‹').value) || 0.002,
                parseFloat(document.getElementById('insurance-å¤±ä¸š-c1-å…¬å¸æ¯”ä¾‹').value) || 0.008
              ],
              æŠ˜ç®—æ¯”ä¾‹: æŠ˜ç®—æ¯”ä¾‹.å¤±ä¸šä¿é™©,
              åŸºç¡€ç³»æ•°: parseFloat(document.getElementById('insurance-å¤±ä¸š-c1-åŸºç¡€ç³»æ•°').value) || 1.0,
            },
          },
          å…¬å¸2: {
        å…»è€ä¿é™©: {
              ç¼´çº³æ¯”ä¾‹: [
                parseFloat(document.getElementById('insurance-å…»è€-c2-ä¸ªäººæ¯”ä¾‹').value) || 0.08,
                parseFloat(document.getElementById('insurance-å…»è€-c2-å…¬å¸æ¯”ä¾‹').value) || 0.16
              ],
              æŠ˜ç®—æ¯”ä¾‹: æŠ˜ç®—æ¯”ä¾‹.å…»è€ä¿é™©,
              åŸºç¡€ç³»æ•°: parseFloat(document.getElementById('insurance-å…»è€-c2-åŸºç¡€ç³»æ•°').value) || 1.0,
        },
        åŒ»ç–—ä¿é™©: {
              ç¼´çº³æ¯”ä¾‹: [
                parseFloat(document.getElementById('insurance-åŒ»ç–—-c2-ä¸ªäººæ¯”ä¾‹').value) || 0.02,
                parseFloat(document.getElementById('insurance-åŒ»ç–—-c2-å…¬å¸æ¯”ä¾‹').value) || 0.05
              ],
              æŠ˜ç®—æ¯”ä¾‹: æŠ˜ç®—æ¯”ä¾‹.åŒ»ç–—ä¿é™©,
              åŸºç¡€ç³»æ•°: parseFloat(document.getElementById('insurance-åŒ»ç–—-c2-åŸºç¡€ç³»æ•°').value) || 1.0,
        },
        å…¬ç§¯é‡‘: {
              ç¼´çº³æ¯”ä¾‹: [
                parseFloat(document.getElementById('insurance-å…¬ç§¯é‡‘-c2-ä¸ªäººæ¯”ä¾‹').value) || 0.12,
                parseFloat(document.getElementById('insurance-å…¬ç§¯é‡‘-c2-å…¬å¸æ¯”ä¾‹').value) || 0.12
              ],
              æŠ˜ç®—æ¯”ä¾‹: æŠ˜ç®—æ¯”ä¾‹.å…¬ç§¯é‡‘,
              åŸºç¡€ç³»æ•°: parseFloat(document.getElementById('insurance-å…¬ç§¯é‡‘-c2-åŸºç¡€ç³»æ•°').value) || 1.0,
        },
        å¤±ä¸šä¿é™©: {
              ç¼´çº³æ¯”ä¾‹: [
                parseFloat(document.getElementById('insurance-å¤±ä¸š-c2-ä¸ªäººæ¯”ä¾‹').value) || 0.002,
                parseFloat(document.getElementById('insurance-å¤±ä¸š-c2-å…¬å¸æ¯”ä¾‹').value) || 0.008
              ],
              æŠ˜ç®—æ¯”ä¾‹: æŠ˜ç®—æ¯”ä¾‹.å¤±ä¸šä¿é™©,
              åŸºç¡€ç³»æ•°: parseFloat(document.getElementById('insurance-å¤±ä¸š-c2-åŸºç¡€ç³»æ•°').value) || 1.0,
            },
          },
        };
      }

      // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨è®¡ç®—
      window.addEventListener('load', function() {
        calculate();
      });
  </script>
  </body>
</html>
