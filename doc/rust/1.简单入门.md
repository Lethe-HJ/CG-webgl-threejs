## 常见命令

rustc 命令

```bash
# 查看rust的版本
rustc --version

# 更新rust
rustup update

#卸载rust
rustup self uninstall
```

cargo 命令

```bash
# 查看cargo的版本
cargo --version

# 通过cargo新建项目
cargo new project_name

cd project_name

# 通过cargo安装包
cargo add rand@0.8.5

# 通过cargo进行项目初始化
cargo init

# 通过cargo来编译项目 可执行文件会生成到./target/debug/hello_cargo
cargo build

# 运行项目
cargo run

# 检查代码能否编译通过
cargo check

# 构建发布版本 可执行文件将生成到target/release
cargo build --release

# 更新trait包 忽略lock文件
cargo update
```

## hello world rustc

新建 main.rs 文件 内容如下

```rust
fn main() {
 println!("Hello, world rustc !");
}
```

执行下列命令运行 rust

```bash
# 编译 会输出main.exe
rustc main.rs

#运行
./main
```

## hello world cargo

创建项目
`cargo new hello`

通过 cargo new 创建的项目会自动生成一个 cargo.toml 文件, 内容如下
或者也可以直接通过`cargo init` 在一个已有的非 cargo 创建的项目里面初始哈 cargo 相关文件

```toml
[package]
name = "hello_cargo"
version = "0.1.0"
edition = "2024

[dependencies]

```

修复 main.rs 文件如下

```rust
fn main() {
 println!("Hello, world rustc !");
}
```

运行
`cargo run`

## 变量和可变性

### 变量

1. 变量使用`let`关键字进行定义
2. 变量默认是不可改变的（immutable）
3. 可以使用`mut`关键字将其标记变量为可变
4. 同一变量名可以使用`let`关键字多次定义, 后续定义会在运行到这一行时遮蔽(Shadowing)前面的变量名, 遮蔽可以使用我复用变量名

### 常量

1. 使用`const`关键字定义常量
2. 常量总是不可变
3. 常量只能定义为常量表达式
4. 常量使用大写下划线形式命名
5. 常量会在编译阶段计算出具体的值

### 整型

| 长度     | 有符号 | 无符号 | 
| -------- | ------ | ------ |
| 8-bit    | i8     | u8     |
| 16-bit   | i16    | u16    |
| 32-bit   | i32    | u32    |
| 64-bit   | i64    | u64    |
| 128-bit  | i128   | u128   |
| 架构相关 | isize  | usize  |

有符号范围 [-(2^(n-1)), 2^(n-1) - 1]
无符号范围 [0, 2^n -1]

| 数字字面值                   | 例子        |
| ---------------------------- | ----------- |
| Decimal (十进制)             | 98_222      |
| Hex (十六进制)               | 0xff        |
| Octal (八进制)               | 0o77        |
| Binary (二进制)              | 0b1111_0000 |
| Byte (单字节字符)(仅限于 u8) | b'A'        |

整数除法会向零舍入到最接近的整数
```rust
let truncated = -5 / 3; // 结果为 -1
```
### 浮点型

f32 单精度
f64 双精度


### 布尔类型

```rust
let t = true;
let f: bool = false;
```

### 字符类型

```rust
let c = 'z';
let z: char = 'ℤ';
```

1. 单引号声明 char 字面值
2. char 类型的大小为四个字节 (four bytes)，并代表了一个 Unicode 标量值

### 元组类型


```rust
let tup: (i32, f64, u8) = (500, 6.4, 1);

```

1. 元组长度固定
2. 从元组中获取单个值，可以使用模式匹配（pattern matching）来解构（destructure）元组值
3. 使用`.0`这样的方式来索引元组的值
4. 不带任何值的元组有个特殊的名称，叫做 单元（unit） 元组。这种值以及对应的类型都写作
()，表示空值或空的返回类型。如果表达式不返回任何其他值，则会隐式返回单元值。

元组解构方式如下

```rust
let tup = (500, 6.4, 1);
let (x, y, z) = tup;
```

元组的索引方式如下

```rust
let x: (i32, f64, u8) = (500, 6.4, 1);
println!("The first value of x is: {x.0}");
```